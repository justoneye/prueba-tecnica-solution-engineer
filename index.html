<!DOCTYPE html>
<html>
<title>Base de Datos (SurtiMarket)</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="estilos.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script src="DB/BaseDeDatos.json"></script>

<body>
<div class="w3-container">
  <h2>SurtiMarket S.A.S.</h2>
  <h5>Base de Datos - Seccional Bogot√°</h5>

  <form class="w3-container">
    <input type="text" id="inputFiltro" onkeyup="myFunction()" placeholder="Search for names..">
    <h5>Filtrar por:</h5>
    <p>
    <input class="w3-radio" type="radio" name="filtro" value="Supervisor">
    <label>Supervisor</label></p>
    <p>
    <input class="w3-radio" type="radio" name="filtro" value="Clases">
    <label>Clases</label></p>
    <p>
    <input class="w3-radio" type="radio" name="filtro" value="Departamento">
    <label>Departamento</label>
    <p>
    <input class="w3-radio" type="radio" name="filtro" value="Subsidiaria">
    <label>Subsidiaria</label></p>
  </form>
  
  <table id="tablaEmpleados" class="w3-table">
    <thead>
        <tr>
        <th>Apellidos</th>
        <th>Nombres</th>
        <th>Supervisor</th>
        <th>Clase</th>
        <th>Departamento</th>
        <th>Subsidiaria</th>
        </tr>
    </thead>
    <tbody id="baseDatos">
    </tbody>
  </table>
</div>
<div class="w3-container">
    <button id="guardarExcel">Guardar como Excel</button>
    <button id="guardarCSV">Guardar como CSV</button>
    <button id="guardarPDF">Guardar como PDF</button>
</div>

<script>
    var baseDatos = document.querySelector('#baseDatos')

    const xhttp = new XMLHttpRequest();
    xhttp.open("GET", "DB/BaseDeDatos.json", true);
    xhttp.send();

    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var res = this.responseText;
            console.log("res", res);
            var converRes = $.parseJSON(res);
            console.log("converRes", converRes);
        }
    }

    function tabla(empleados) {
        baseDatos.innerHTML = ''
        for(let empleado of empleados){
            baseDatos.innerHTML += `
            <tr>
                <td>${ empleado.Apellidos }</td>
                <td>${ empleado.Nombres }</td>
                <td>${ empleado.Supervisor }</td>
                <td>${ empleado.Clase }</td>
                <td>${ empleado.Departamento }</td>
                <td>${ empleado.Subsidiaria }</td>
            </tr> 
            `
        }
    }
</script>


</body>
</html>